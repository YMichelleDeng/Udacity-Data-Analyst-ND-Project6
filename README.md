# Project 6 - Data Visualization: US Flight Delay in 2008

## Summary

Using the RITA flight delay information in 2008, this visualization demonstrated the relationship between US domestic flight delay frequency and the averaged delay time in the top 20 busiest airports. 

## Design

### Sketching out the Ideas and version 1

After exploring the data set, originally I decided to choose flight delay frequency and volume of flights as two main variables for my story. Knowing this information may help people make better decisions on picking their right airline for specific airports when they fly. I originally planned to present these two variables in a set of charts looping through all the airlines and airports. However, after summarizing the data and trying out different chart types, I noticed that there were more than 300 airports, which made it impossible to show all the data. Therefore, I only chose the top 20 busiest airports and airlines for this version. 

In this visualization, I would like the audiences to notice that 1) the top 20 busiest airports in US and their total volume of flights; 2) for specific airport, the volume of flights differs between different airlines; 3) the flight delay frequency differs between different airlines; and 4) the relationship between the flight volume and delay frequency. 

Regarding to the chart type, after reviewing examples on the Dimple webpage, I realized that a simple bar chart for the volume of flights might be good enough to deliver clear information. For instance, for each airport, comparisons on the volume of flights between airlines can be visually straightforward in a bar chart. On the other hand, a bubble chart for the flight delay frequency can be added as another layout on top of the bar chart. 

After sketching out the ideas, firstly I generated a bar-bubble combined chart for all the airlines in one airport. Then in order to loop through the top 20 busiest airports, I borrowed codes from the Price Change and Storyboard Control, two advance examples on the Dimple webpage, with some help from my Udacity Coach in an one-to-one consultation appointment. 

This initial version took me quite a long time, especially in data wrangling and setting up the initial code using dimple.js. The original data file from RITA is more than 600 MB. A summary data file flight2008_delay.csv generated by Python flight_2008.py is used for this visualization.

### Version 2

In this version, 1) the interval of y-axis for flight counts was changed to report exact number; 2) a floating bar chart was used to replace the bubbles for delay frequency, in order to align with the legend shape; 3) the x-axis for airlines was sorted by the average delay frequency across the 20 airports. 

### Version 3

According to the feedbacks, in this version, a sorted function on airlines was added. Audiences can choose how to order the airlines in the x-axis. They can either order it by the average volume of flights or by the average delay frequency across the 20 airports.  

### Version 4

According to the feedbacks from Udacity, the visualization should be explanatory rather than exploratory. Therefore, in this version, the dataset was further summarized in a new data file flight2008_airport_agg.csv, by only looking at the averaged performances of the top 20 airports but not airlines anymore. 

In this version, I would like to show the following findings: 1) in general, the delay frequency of departure was lower than arrival; 2) but the average delay time of departure was higher than arrival; 3) the delay frequency was positively correlated with the average delay time; 4) both delay frequency and delay time were independent from the airport flight counts. 

Regarding to the layout, a scatter plot is suitable to display a correlation between two measures (i.e. delay frequency and delay time in this case). These two variables were displayed as bubbles in the chart. The relationship of these two variables was illustrated by the relative locations of the bubbles. In this scatter plot, the two status (i.e. departure vs arrival) were separated by two different color encodings embedding in the interactive legends. In addition, I introduced the flight counts as another dimension by adjusting the size of the bubbles in the scatter plot. 


## Feedbacks

First, I invited 4 persons with different backgrounds to comment on my visualization. 

According to their feedbacks, they all noticed the visualization was interactive and with animations embedded. They could hover on the bars and dots for more details. They also noticed that delay frequency for arrival flight is significantly higher than that for departure flight. There is no relationship between flight volume and delay frequency. High volume does not entail more delays. They realized that flight delay might be reduced if they chose airlines wisely by looking at which airports they chose to fly in or from. In addition, it would be better to choose big airlines with more flight counts since they tended to have lower delay frequency.  

On the other hand, in this version, the most obvious problem was the accuracy of y-axis for flight counts, as the measurement interval was in a thousand rather than the exact number. The visual encodings (i.e. bars and bubbles) were also less intuitive when I used two measure axis. In addition, an average delay frequency line and a sorting function on airlines were requested by two audiences. Given that the airlines listed in x-axis should be independent to each other, unlike time series data, I would question whether a line linked all the airlines is meaningful in this case. Therefore, I would rather make no change on adding this average line here. According to the above feedbacks, I modified my visualization in version 2 and 3, and then made my first submission. 

From the feedbacks on my first submission, my Udacity reviewer pointed out that my visualization was too exploratory rather than explanatory. I am recommended to identify a couple of compelling findings from the data, prior to code up the visualization. To improve this, I revisited the dataset and made a major change in version 4.


## Resources

http://dimplejs.org/advanced_examples_viewer.html?id=advanced_price_range_lollipop
http://dimplejs.org/advanced_examples_viewer.html?id=advanced_storyboard_control
http://dimplejs.org/examples_viewer.html?id=bars_vertical_floating
https://github.com/d3/d3/wiki/Gallery
http://bl.ocks.org/JasonCabral/964063d4534c899f8fd41d8e8b929336#index.html
https://github.com/sebasibarguen/udacity-nanodegree-visualization
https://discussions.udacity.com/t/page-is-not-displayed-properly-on-bl-ocks/174891/2
https://discussions.udacity.com/t/how-to-add-a-sorting-function-in-the-storyboard-function-using-dimple/180627/2
http://stackoverflow.com/questions/20688253/how-to-modify-the-size-and-color-of-a-pts-on-a-chart-depending-on-the-value-dim
http://dimplejs.org/examples_viewer.html?id=bubbles_standard

